var l=class{constructor(i,e,s,r){this.innerChildNodes=new Map;this.container=i,this.items=e,this.itemHeight=s,this.renderItem=n=>{let o=r(n),m=document.createElement("template");return m.innerHTML=o.trim(),m.content.firstElementChild};let t=document.createElement("div");this.inner=t,t.style.height=`${this.items.length*this.itemHeight}px`,t.style.position="relative",this.container.append(t),i.addEventListener("scroll",this.render.bind(this)),this.render()}createItemEl(i){let e=this.renderItem(this.items[i]);return e.style.position="absolute",e.style.width="100%",e.style.transform=`translateY(${i*this.itemHeight}px)`,e}render(){let e=Math.floor(this.container.scrollTop/this.itemHeight),s=e+Math.ceil(this.container.offsetHeight/this.itemHeight);e=Math.max(0,e-5),s=Math.min(s+5,this.items.length),this.innerChildNodes.forEach((t,n)=>{(n<e||n>=s)&&(t.remove(),this.innerChildNodes.delete(n))});let r=document.createDocumentFragment();for(let t=e;t<s;t++)if(!this.innerChildNodes.has(t)){let n=this.createItemEl(t);this.innerChildNodes.set(t,n),r.appendChild(n)}r.hasChildNodes()&&this.inner.appendChild(r)}},a=document.querySelector("#list"),d=new Array(1e3).fill(0).map((h,i)=>({id:i,title:`Row_${i}`}));new l(a,d,40,h=>`<div style='height: 40px;' class='row'>${h.title}</div>`);
//# sourceMappingURL=script.js.map
