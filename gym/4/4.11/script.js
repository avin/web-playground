var m=class{constructor(n,e,s,r){this.innerChildNodes=new Map;this.container=n,this.items=e,this.itemHeight=s,this.renderItem=o=>{let a=r(o),h=document.createElement("template");return h.innerHTML=a.trim(),h.content.firstElementChild};let t=document.createElement("div");this.inner=t,t.style.height=`${this.items.length*this.itemHeight}px`,t.style.position="relative",this.container.append(t);let i=null;n.addEventListener("scroll",()=>{i||(i=requestAnimationFrame(()=>{this.render(),i=null}))},{passive:!0}),this.render()}createItemEl(n){let e=this.renderItem(this.items[n]);return e.style.position="absolute",e.style.width="100%",e.style.transform=`translateY(${n*this.itemHeight}px)`,e}render(){let e=Math.floor(this.container.scrollTop/this.itemHeight),s=e+Math.ceil(this.container.offsetHeight/this.itemHeight);e=Math.max(0,e-5),s=Math.min(s+5,this.items.length),this.innerChildNodes.forEach((t,i)=>{(i<e||i>=s)&&(t.remove(),this.innerChildNodes.delete(i))});let r=document.createDocumentFragment();for(let t=e;t<s;t++)if(!this.innerChildNodes.has(t)){let i=this.createItemEl(t);this.innerChildNodes.set(t,i),r.appendChild(i)}r.hasChildNodes()&&this.inner.appendChild(r)}},d=document.querySelector("#list"),c=new Array(1e3).fill(0).map((l,n)=>({id:n,title:`Row_${n}`}));new m(d,c,40,l=>`<div style='height: 40px;' class='row'>${l.title}</div>`);
//# sourceMappingURL=script.js.map
