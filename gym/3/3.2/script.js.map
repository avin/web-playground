{
  "version": 3,
  "sources": ["../../../../static/root/gym/3/3.2/script.ts"],
  "sourcesContent": ["// @process\nexport {};\n\nasync function fetchWithRetry<T>(\n  url: string,\n  options: RequestInit = {},\n  maxRetries: number = 3,\n): Promise<T> {\n  // \u0420\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u0442\u044C retry \u043B\u043E\u0433\u0438\u043A\u0443\n  // \u041F\u0440\u0438 \u043A\u0430\u0436\u0434\u043E\u0439 \u043D\u0435\u0443\u0434\u0430\u0447\u0435 \u0436\u0434\u0430\u0442\u044C \u043F\u0435\u0440\u0435\u0434 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u0439 \u043F\u043E\u043F\u044B\u0442\u043A\u043E\u0439 (1s, 2s, 4s - exponential backoff)\n\n  let curTry = 0;\n\n  while (curTry < maxRetries) {\n    await new Promise((r) => setTimeout(r, curTry * 2000));\n\n    try {\n      const res = await fetch(url);\n      if (!res.ok) {\n        throw new Error(`Response Status: ${res.status}`);\n      }\n      const data = await res.json();\n      return data;\n    } catch (e) {\n      curTry++;\n    }\n  }\n\n  throw new Error('max tries ended');\n}\n\nfetchWithRetry('/api/users/1/posts', {}, 3)\n  .then((data) => {\n    console.log('data=', data);\n  })\n  .catch((e) => {\n    console.log('err=', e);\n  });\n"],
  "mappings": "AAGA,eAAeA,EACbC,EACAC,EAAuB,CAAC,EACxBC,EAAqB,EACT,CAIZ,IAAIC,EAAS,EAEb,KAAOA,EAASD,GAAY,CAC1B,MAAM,IAAI,QAASE,GAAM,WAAWA,EAAGD,EAAS,GAAI,CAAC,EAErD,GAAI,CACF,IAAME,EAAM,MAAM,MAAML,CAAG,EAC3B,GAAI,CAACK,EAAI,GACP,MAAM,IAAI,MAAM,oBAAoBA,EAAI,QAAQ,EAGlD,OADa,MAAMA,EAAI,KAAK,CAE9B,OAASC,EAAP,CACAH,GACF,CACF,CAEA,MAAM,IAAI,MAAM,iBAAiB,CACnC,CAEAJ,EAAe,qBAAsB,CAAC,EAAG,CAAC,EACvC,KAAMQ,GAAS,CACd,QAAQ,IAAI,QAASA,CAAI,CAC3B,CAAC,EACA,MAAO,GAAM,CACZ,QAAQ,IAAI,OAAQ,CAAC,CACvB,CAAC",
  "names": ["fetchWithRetry", "url", "options", "maxRetries", "curTry", "r", "res", "e", "data"]
}
