{
  "version": 3,
  "sources": ["../../../../static/root/gym/2/2.7/script.ts"],
  "sourcesContent": ["// @process\nexport {};\n\ninterface ValidationRule {\n  field: string;\n  validate: (value: string) => string | null; // null \u0435\u0441\u043B\u0438 \u0432\u0430\u043B\u0438\u0434\u043D\u043E, \u0438\u043D\u0430\u0447\u0435 \u0442\u0435\u043A\u0441\u0442 \u043E\u0448\u0438\u0431\u043A\u0438\n}\n\nclass FormValidator {\n  rules: Record<string, (v: string) => string | null> = {};\n\n  constructor(rules: ValidationRule[]) {\n    rules.forEach((rule) => {\n      this.rules[rule.field] = rule.validate;\n    });\n  }\n\n  validateField(field: string, value: string): string | null {\n    if (!this.rules[field]) {\n      throw new Error('no validator for this field');\n    }\n    return this.rules[field](value);\n  }\n\n  validateAll(formData: Record<string, string>): Record<string, string | null> {\n    return Object.keys(formData).reduce((acc, key) => {\n      acc[key] = this.validateField(key, formData[key]);\n      return acc;\n    }, {});\n  }\n}\n\nconst validateEmail = (str: string): boolean => {\n  return /[a-z0-9.+-]+@[a-z0-9.+-]+\\.[a-z]{2,}$/.test(str);\n};\n\n// \u041F\u0440\u0438\u043C\u0435\u0440 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F:\nconst validator = new FormValidator([\n  {\n    field: 'email',\n    validate: (v) => (validateEmail(v) ? null : 'Invalid email'),\n  },\n  {\n    field: 'password',\n    validate: (v) => (v.length >= 8 ? null : 'Min 8 characters'),\n  },\n]);\n\nconsole.log(validator.validateField('email', 'example@foo.com'));\nconsole.log(validator.validateField('email', 'example@'));\nconsole.log(\n  validator.validateAll({\n    email: 'example@foo.com',\n    password: 'zzz',\n  }),\n);\n"],
  "mappings": "AAQA,IAAMA,EAAN,KAAoB,CAGlB,YAAYC,EAAyB,CAFrC,WAAsD,CAAC,EAGrDA,EAAM,QAASC,GAAS,CACtB,KAAK,MAAMA,EAAK,OAASA,EAAK,QAChC,CAAC,CACH,CAEA,cAAcC,EAAeC,EAA8B,CACzD,GAAI,CAAC,KAAK,MAAMD,GACd,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAO,KAAK,MAAMA,GAAOC,CAAK,CAChC,CAEA,YAAYC,EAAiE,CAC3E,OAAO,OAAO,KAAKA,CAAQ,EAAE,OAAO,CAACC,EAAKC,KACxCD,EAAIC,GAAO,KAAK,cAAcA,EAAKF,EAASE,EAAI,EACzCD,GACN,CAAC,CAAC,CACP,CACF,EAEME,EAAiBC,GACd,wCAAwC,KAAKA,CAAG,EAInDC,EAAY,IAAIV,EAAc,CAClC,CACE,MAAO,QACP,SAAWW,GAAOH,EAAcG,CAAC,EAAI,KAAO,eAC9C,EACA,CACE,MAAO,WACP,SAAWA,GAAOA,EAAE,QAAU,EAAI,KAAO,kBAC3C,CACF,CAAC,EAED,QAAQ,IAAID,EAAU,cAAc,QAAS,iBAAiB,CAAC,EAC/D,QAAQ,IAAIA,EAAU,cAAc,QAAS,UAAU,CAAC,EACxD,QAAQ,IACNA,EAAU,YAAY,CACpB,MAAO,kBACP,SAAU,KACZ,CAAC,CACH",
  "names": ["FormValidator", "rules", "rule", "field", "value", "formData", "acc", "key", "validateEmail", "str", "validator", "v"]
}
