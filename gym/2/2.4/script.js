var c=(l,a)=>{let e;return function(...o){let t=this;clearTimeout(e),e=setTimeout(()=>{l.apply(t,o)},a)}},s=class{constructor(a,e=1e3){this.formEl=null;this.state={};this.localStorageKey="form";if(this.formEl=document.getElementById(a),this.localStorageKey=`form_${a}`,!this.formEl)return;let o=c(t=>{let n=t.target.name,i=t.target.value;this.state[n]=i;try{let r=JSON.stringify(this.state);localStorage.setItem(this.localStorageKey,r),console.log("formStateSaved",r)}catch(r){}},e);this.formEl.addEventListener("input",t=>{t.target instanceof HTMLInputElement&&o(t)}),this.formEl.addEventListener("submit",t=>{t.preventDefault();try{localStorage.removeItem(this.localStorageKey),location.reload()}catch(n){}}),this.loadState()}loadState(){var a;try{let e=localStorage.getItem(this.localStorageKey);if(!e)return;this.state=JSON.parse(e);for(let[o,t]of Object.entries(this.state)){let n=(a=this.formEl)==null?void 0:a.querySelector(`input[name="${o}"]`);n&&(n.value=t)}}catch(e){}}},m=new s("registration-form");
//# sourceMappingURL=script.js.map
