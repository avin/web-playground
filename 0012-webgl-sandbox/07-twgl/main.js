var ye=Float32Array;function Ee(e,t,n){let o=new ye(3);return e&&(o[0]=e),t&&(o[1]=t),n&&(o[2]=n),o}function Qt(e,t,n){return n=n||new ye(3),n[0]=e[0]+t[0],n[1]=e[1]+t[1],n[2]=e[2]+t[2],n}function Jt(e,t,n){return n=n||new ye(3),n[0]=e[0]*t[0],n[1]=e[1]*t[1],n[2]=e[2]*t[2],n}var We=Float32Array;function en(e){return e=e||new We(16),e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function tn(e,t){t=t||new We(16);let n=e[0*4+0],o=e[0*4+1],r=e[0*4+2],c=e[0*4+3],a=e[1*4+0],i=e[1*4+1],f=e[1*4+2],u=e[1*4+3],s=e[2*4+0],m=e[2*4+1],l=e[2*4+2],x=e[2*4+3],E=e[3*4+0],y=e[3*4+1],A=e[3*4+2],p=e[3*4+3],h=l*p,S=A*x,R=f*p,_=A*u,F=f*x,C=l*u,I=r*p,P=A*c,N=r*x,M=l*c,z=r*u,L=f*c,k=s*y,d=E*m,H=a*y,X=E*i,W=a*m,Y=s*i,q=n*y,Z=E*o,Q=n*m,J=s*o,ee=n*i,te=a*o,Oe=h*i+_*m+F*y-(S*i+R*m+C*y),Ge=S*o+I*m+M*y-(h*o+P*m+N*y),ze=R*o+P*i+z*y-(_*o+I*i+L*y),Ve=C*o+N*i+L*m-(F*o+M*i+z*m),w=1/(n*Oe+a*Ge+s*ze+E*Ve);return t[0]=w*Oe,t[1]=w*Ge,t[2]=w*ze,t[3]=w*Ve,t[4]=w*(S*a+R*s+C*E-(h*a+_*s+F*E)),t[5]=w*(h*n+P*s+N*E-(S*n+I*s+M*E)),t[6]=w*(_*n+I*a+L*E-(R*n+P*a+z*E)),t[7]=w*(F*n+M*a+z*s-(C*n+N*a+L*s)),t[8]=w*(k*u+X*x+W*p-(d*u+H*x+Y*p)),t[9]=w*(d*c+q*x+J*p-(k*c+Z*x+Q*p)),t[10]=w*(H*c+Z*u+ee*p-(X*c+q*u+te*p)),t[11]=w*(Y*c+Q*u+te*x-(W*c+J*u+ee*x)),t[12]=w*(H*l+Y*A+d*f-(W*A+k*f+X*l)),t[13]=w*(Q*A+k*r+Z*l-(q*l+J*A+d*r)),t[14]=w*(q*f+te*A+X*r-(ee*A+H*r+Z*f)),t[15]=w*(ee*l+W*r+J*f-(Q*f+te*l+Y*r)),t}function nn(e,t,n){n=n||Ee();let o=t[0],r=t[1],c=t[2],a=o*e[0*4+3]+r*e[1*4+3]+c*e[2*4+3]+e[3*4+3];return n[0]=(o*e[0*4+0]+r*e[1*4+0]+c*e[2*4+0]+e[3*4+0])/a,n[1]=(o*e[0*4+1]+r*e[1*4+1]+c*e[2*4+1]+e[3*4+1])/a,n[2]=(o*e[0*4+2]+r*e[1*4+2]+c*e[2*4+2]+e[3*4+2])/a,n}function rn(e,t,n){n=n||Ee();let o=t[0],r=t[1],c=t[2];return n[0]=o*e[0*4+0]+r*e[1*4+0]+c*e[2*4+0],n[1]=o*e[0*4+1]+r*e[1*4+1]+c*e[2*4+1],n[2]=o*e[0*4+2]+r*e[1*4+2]+c*e[2*4+2],n}var Te=5120,K=5121,Ae=5122,_e=5123,pe=5124,be=5125,he=5126,on=32819,cn=32820,an=33635,un=5131,fn=33640,sn=35899,ln=35902,mn=36269,xn=34042,yn={};{let e=yn;e[Te]=Int8Array,e[K]=Uint8Array,e[Ae]=Int16Array,e[_e]=Uint16Array,e[pe]=Int32Array,e[be]=Uint32Array,e[he]=Float32Array,e[on]=Uint16Array,e[cn]=Uint16Array,e[an]=Uint16Array,e[un]=Uint16Array,e[fn]=Uint32Array,e[sn]=Uint32Array,e[ln]=Uint32Array,e[mn]=Uint32Array,e[xn]=Uint32Array}function Fe(e){if(e instanceof Int8Array)return Te;if(e instanceof Uint8Array||e instanceof Uint8ClampedArray)return K;if(e instanceof Int16Array)return Ae;if(e instanceof Uint16Array)return _e;if(e instanceof Int32Array)return pe;if(e instanceof Uint32Array)return be;if(e instanceof Float32Array)return he;throw new Error("unsupported typed array type")}function En(e){if(e===Int8Array)return Te;if(e===Uint8Array||e===Uint8ClampedArray)return K;if(e===Int16Array)return Ae;if(e===Uint16Array)return _e;if(e===Int32Array)return pe;if(e===Uint32Array)return be;if(e===Float32Array)return he;throw new Error("unsupported typed array type")}var ne=typeof SharedArrayBuffer!="undefined"?function(t){return t&&t.buffer&&(t.buffer instanceof ArrayBuffer||t.buffer instanceof SharedArrayBuffer)}:function(t){return t&&t.buffer&&t.buffer instanceof ArrayBuffer};function Tn(...e){console.error(...e)}function An(e,t){return typeof WebGLBuffer!="undefined"&&t instanceof WebGLBuffer}function _n(e,t){return typeof WebGLShader!="undefined"&&t instanceof WebGLShader}function Ye(e,t){return typeof WebGLTexture!="undefined"&&t instanceof WebGLTexture}var je=35044,v=34962,Ke=34963,pn=34660,bn=5120,hn=5121,Fn=5122,Sn=5123,Rn=5124,In=5125,Bn=5126,qe={attribPrefix:""};function Pn(e,t,n,o,r){e.bindBuffer(t,n),e.bufferData(t,o,r||je)}function Se(e,t,n,o){if(An(e,t))return t;n=n||v;let r=e.createBuffer();return Pn(e,n,r,t,o),r}function Ze(e){return e==="indices"}function Cn(e){return e instanceof Int8Array||e instanceof Uint8Array}function wn(e){return e===Int8Array||e===Uint8Array}function Qe(e){return e.length?e:e.data}var Nn=/coord|texture/i,Un=/color|colour/i;function Je(e,t){let n;if(Nn.test(e)?n=2:Un.test(e)?n=4:n=3,t%n>0)throw new Error(`Can not guess numComponents for attribute '${e}'. Tried ${n} but ${t} values is not evenly divisible by ${n}. You should specify it.`);return n}function et(e,t){return e.numComponents||e.size||Je(t,Qe(e).length)}function oe(e,t){if(ne(e))return e;if(ne(e.data))return e.data;Array.isArray(e)&&(e={data:e});let n=e.type;return n||(Ze(t)?n=Uint16Array:n=Float32Array),new n(e.data)}function Dn(e,t){let n={};return Object.keys(t).forEach(function(o){if(!Ze(o)){let r=t[o],c=r.attrib||r.name||r.attribName||qe.attribPrefix+o;if(r.value){if(!Array.isArray(r.value)&&!ne(r.value))throw new Error("array.value is not array or typedarray");n[c]={value:r.value}}else{let a,i,f,u;if(r.buffer&&r.buffer instanceof WebGLBuffer)a=r.buffer,u=r.numComponents||r.size,i=r.type,f=r.normalize;else if(typeof r=="number"||typeof r.data=="number"){let s=r.data||r,m=r.type||Float32Array,l=s*m.BYTES_PER_ELEMENT;i=En(m),f=r.normalize!==void 0?r.normalize:wn(m),u=r.numComponents||r.size||Je(o,s),a=e.createBuffer(),e.bindBuffer(v,a),e.bufferData(v,l,r.drawType||je)}else{let s=oe(r,o);a=Se(e,s,void 0,r.drawType),i=Fe(s),f=r.normalize!==void 0?r.normalize:Cn(s),u=et(r,o)}n[c]={buffer:a,numComponents:u,type:i,normalize:f,stride:r.stride||0,offset:r.offset||0,divisor:r.divisor===void 0?void 0:r.divisor,drawType:r.drawType}}}}),e.bindBuffer(v,null),n}function Mn(e,t){return t===bn||t===hn?1:t===Fn||t===Sn?2:t===Rn||t===In||t===Bn?4:0}var j=["position","positions","a_position"];function Ln(e){let t,n;for(n=0;n<j.length&&(t=j[n],!(t in e));++n);n===j.length&&(t=Object.keys(e)[0]);let o=e[t],r=Qe(o).length;if(r===void 0)return 1;let c=et(o,t),a=r/c;if(r%c>0)throw new Error(`numComponents ${c} not correct for length ${r}`);return a}function On(e,t){let n,o;for(o=0;o<j.length&&(n=j[o],!(n in t||(n=qe.attribPrefix+n,n in t)));++o);o===j.length&&(n=Object.keys(t)[0]);let r=t[n];if(!r.buffer)return 1;e.bindBuffer(v,r.buffer);let c=e.getBufferParameter(v,pn);e.bindBuffer(v,null);let a=Mn(e,r.type),i=c/a,f=r.numComponents||r.size,u=i/f;if(u%1!==0)throw new Error(`numComponents ${f} not correct for length ${length}`);return u}function Re(e,t,n){let o=Dn(e,t),r=Object.assign({},n||{});r.attribs=Object.assign({},n?n.attribs:{},o);let c=t.indices;if(c){let a=oe(c,"indices");r.indices=Se(e,a,Ke),r.numElements=a.length,r.elementType=Fe(a)}else r.numElements||(r.numElements=On(e,r.attribs));return r}function Gn(e,t,n){let o=n==="indices"?Ke:v,r=oe(t,n);return Se(e,r,o)}function zn(e,t){let n={};return Object.keys(t).forEach(function(o){n[o]=Gn(e,t[o],o)}),t.indices?(n.numElements=t.indices.length,n.elementType=Fe(oe(t.indices))):n.numElements=Ln(t),n}function Vn(e,t){let n=0;return e.push=function(){for(let o=0;o<arguments.length;++o){let r=arguments[o];if(r instanceof Array||ne(r))for(let c=0;c<r.length;++c)e[n++]=r[c];else e[n++]=r}},e.reset=function(o){n=o||0},e.numComponents=t,Object.defineProperty(e,"numElements",{get:function(){return this.length/this.numComponents|0}}),e}function b(e,t,n){let o=n||Float32Array;return Vn(new o(e*t),e)}function Ie(e,t,n){let o=e.length,r=new Float32Array(3);for(let c=0;c<o;c+=3)n(t,[e[c],e[c+1],e[c+2]],r),e[c]=r[0],e[c+1]=r[1],e[c+2]=r[2]}function vn(e,t,n){n=n||Ee();let o=t[0],r=t[1],c=t[2];return n[0]=o*e[0*4+0]+r*e[0*4+1]+c*e[0*4+2],n[1]=o*e[1*4+0]+r*e[1*4+1]+c*e[1*4+2],n[2]=o*e[2*4+0]+r*e[2*4+1]+c*e[2*4+2],n}function gn(e,t){return Ie(e,t,rn),e}function kn(e,t){return Ie(e,tn(t),vn),e}function $n(e,t){return Ie(e,t,nn),e}function dn(e,t){return Object.keys(e).forEach(function(n){let o=e[n];n.indexOf("pos")>=0?$n(o,t):n.indexOf("tan")>=0||n.indexOf("binorm")>=0?gn(o,t):n.indexOf("norm")>=0&&kn(o,t)}),e}function tt(e,t,n){return e=e||2,t=t||0,n=n||0,e*=.5,{position:{numComponents:2,data:[t+-1*e,n+-1*e,t+1*e,n+-1*e,t+-1*e,n+1*e,t+1*e,n+1*e]},normal:[0,0,1,0,0,1,0,0,1,0,0,1],texcoord:[0,0,1,0,0,1,1,1],indices:[0,1,2,2,1,3]}}function nt(e,t,n,o,r){e=e||1,t=t||1,n=n||1,o=o||1,r=r||en();let c=(n+1)*(o+1),a=b(3,c),i=b(3,c),f=b(2,c);for(let l=0;l<=o;l++)for(let x=0;x<=n;x++){let E=x/n,y=l/o;a.push(e*E-e*.5,0,t*y-t*.5),i.push(0,1,0),f.push(E,y)}let u=n+1,s=b(3,n*o*2,Uint16Array);for(let l=0;l<o;l++)for(let x=0;x<n;x++)s.push((l+0)*u+x,(l+1)*u+x,(l+0)*u+x+1),s.push((l+1)*u+x,(l+1)*u+x+1,(l+0)*u+x+1);return dn({position:a,normal:i,texcoord:f,indices:s},r)}function rt(e,t,n,o,r,c,a){if(t<=0||n<=0)throw new Error("subdivisionAxis and subdivisionHeight must be > 0");o=o||0,r=r||Math.PI,c=c||0,a=a||Math.PI*2;let i=r-o,f=a-c,u=(t+1)*(n+1),s=b(3,u),m=b(3,u),l=b(2,u);for(let y=0;y<=n;y++)for(let A=0;A<=t;A++){let p=A/t,h=y/n,S=f*p+c,R=i*h+o,_=Math.sin(S),F=Math.cos(S),C=Math.sin(R),I=Math.cos(R),P=F*C,N=I,M=_*C;s.push(e*P,e*N,e*M),m.push(P,N,M),l.push(1-p,h)}let x=t+1,E=b(3,t*n*2,Uint16Array);for(let y=0;y<t;y++)for(let A=0;A<n;A++)E.push((A+0)*x+y,(A+0)*x+y+1,(A+1)*x+y),E.push((A+1)*x+y,(A+0)*x+y+1,(A+1)*x+y+1);return{position:s,normal:m,texcoord:l,indices:E}}var Hn=[[3,7,5,1],[6,2,0,4],[6,7,3,2],[0,1,5,4],[7,6,4,5],[2,3,1,0]];function ot(e){e=e||1;let t=e/2,n=[[-t,-t,-t],[+t,-t,-t],[-t,+t,-t],[+t,+t,-t],[-t,-t,+t],[+t,-t,+t],[-t,+t,+t],[+t,+t,+t]],o=[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],r=[[1,0],[0,0],[0,1],[1,1]],c=6*4,a=b(3,c),i=b(3,c),f=b(2,c),u=b(3,6*2,Uint16Array);for(let s=0;s<6;++s){let m=Hn[s];for(let x=0;x<4;++x){let E=n[m[x]],y=o[s],A=r[x];a.push(E),i.push(y),f.push(A)}let l=4*s;u.push(l+0,l+1,l+2),u.push(l+0,l+2,l+3)}return{position:a,normal:i,texcoord:f,indices:u}}function Be(e,t,n,o,r,c,a){if(o<3)throw new Error("radialSubdivisions must be 3 or greater");if(r<1)throw new Error("verticalSubdivisions must be 1 or greater");let i=c===void 0?!0:c,f=a===void 0?!0:a,u=(i?2:0)+(f?2:0),s=(o+1)*(r+1+u),m=b(3,s),l=b(3,s),x=b(2,s),E=b(3,o*(r+u/2)*2,Uint16Array),y=o+1,A=Math.atan2(e-t,n),p=Math.cos(A),h=Math.sin(A),S=i?-2:0,R=r+(f?2:0);for(let _=S;_<=R;++_){let F=_/r,C=n*F,I;_<0?(C=0,F=1,I=e):_>r?(C=n,F=1,I=t):I=e+(t-e)*(_/r),(_===-2||_===r+2)&&(I=0,F=0),C-=n/2;for(let P=0;P<y;++P){let N=Math.sin(P*Math.PI*2/o),M=Math.cos(P*Math.PI*2/o);m.push(N*I,C,M*I),_<0?l.push(0,-1,0):_>r?l.push(0,1,0):I===0?l.push(0,0,0):l.push(N*p,h,M*p),x.push(P/o,1-F)}}for(let _=0;_<r+u;++_)if(!(_===1&&i||_===r+u-2&&f))for(let F=0;F<o;++F)E.push(y*(_+0)+0+F,y*(_+0)+1+F,y*(_+1)+1+F),E.push(y*(_+0)+0+F,y*(_+1)+1+F,y*(_+1)+0+F);return{position:m,normal:l,texcoord:x,indices:E}}function ve(e,t){t=t||[];let n=[];for(let o=0;o<e.length;o+=4){let r=e[o],c=e.slice(o+1,o+4);c.push.apply(c,t);for(let a=0;a<r;++a)n.push.apply(n,c)}return n}function ct(){let e=[0,0,0,0,150,0,30,0,0,0,150,0,30,150,0,30,0,0,30,0,0,30,30,0,100,0,0,30,30,0,100,30,0,100,0,0,30,60,0,30,90,0,67,60,0,30,90,0,67,90,0,67,60,0,0,0,30,30,0,30,0,150,30,0,150,30,30,0,30,30,150,30,30,0,30,100,0,30,30,30,30,30,30,30,100,0,30,100,30,30,30,60,30,67,60,30,30,90,30,30,90,30,67,60,30,67,90,30,0,0,0,100,0,0,100,0,30,0,0,0,100,0,30,0,0,30,100,0,0,100,30,0,100,30,30,100,0,0,100,30,30,100,0,30,30,30,0,30,30,30,100,30,30,30,30,0,100,30,30,100,30,0,30,30,0,30,60,30,30,30,30,30,30,0,30,60,0,30,60,30,30,60,0,67,60,30,30,60,30,30,60,0,67,60,0,67,60,30,67,60,0,67,90,30,67,60,30,67,60,0,67,90,0,67,90,30,30,90,0,30,90,30,67,90,30,30,90,0,67,90,30,67,90,0,30,90,0,30,150,30,30,90,30,30,90,0,30,150,0,30,150,30,0,150,0,0,150,30,30,150,30,0,150,0,30,150,30,30,150,0,0,0,0,0,0,30,0,150,30,0,0,0,0,150,30,0,150,0],t=[.22,.19,.22,.79,.34,.19,.22,.79,.34,.79,.34,.19,.34,.19,.34,.31,.62,.19,.34,.31,.62,.31,.62,.19,.34,.43,.34,.55,.49,.43,.34,.55,.49,.55,.49,.43,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,0,1,0,1,1,0,1,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1,1,1,0,0,1,1,1,0,0,0,0,1,1,1,0,0,1,1,1,0],n=ve([18,0,0,1,18,0,0,-1,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,1,0,6,1,0,0,6,0,-1,0,6,1,0,0,6,0,-1,0,6,-1,0,0]),o=ve([18,200,70,120,18,80,70,200,6,70,200,210,6,200,200,70,6,210,100,70,6,210,160,70,6,70,180,210,6,100,70,210,6,76,210,100,6,140,210,80,6,90,130,110,6,160,160,220],[255]),r=e.length/3,c={position:b(3,r),texcoord:b(2,r),normal:b(3,r),color:b(4,r,Uint8Array),indices:b(3,r/3,Uint16Array)};c.position.push(e),c.texcoord.push(t),c.normal.push(n),c.color.push(o);for(let a=0;a<r;++a)c.indices.push(a);return c}function it(e,t,n,o,r,c,a){if(r<=0)throw new Error("subdivisionDown must be > 0");c=c||0,a=a||1;let i=2,f=a-c,u=(r+1)*2*(2+i),s=b(3,u),m=b(3,u),l=b(2,u);function x(h,S,R){return h+(S-h)*R}function E(h,S,R,_,F,C){for(let I=0;I<=r;I++){let P=S/(i-1),N=I/r,M=(P-.5)*2,z=(c+N*f)*Math.PI,L=Math.sin(z),k=Math.cos(z),d=x(e,h,L),H=M*o,X=k*e,W=L*d;s.push(H,X,W);let Y=Qt(Jt([0,L,k],R),_);m.push(Y),l.push(P*F+C,N)}}for(let h=0;h<i;h++){let S=(h/(i-1)-.5)*2;E(t,h,[1,1,1],[0,0,0],1,0),E(t,h,[0,0,0],[S,0,0],0,0),E(n,h,[1,1,1],[0,0,0],1,0),E(n,h,[0,0,0],[S,0,0],0,1)}let y=b(3,r*2*(2+i),Uint16Array);function A(h,S){for(let R=0;R<r;++R)y.push(h+R+0,h+R+1,S+R+0),y.push(h+R+1,S+R+1,S+R+0)}let p=r+1;return A(p*0,p*4),A(p*5,p*7),A(p*6,p*2),A(p*3,p*1),{position:s,normal:m,texcoord:l,indices:y}}function at(e,t,n,o,r,c){return Be(e,e,t,n,o,r,c)}function ut(e,t,n,o,r,c){if(n<3)throw new Error("radialSubdivisions must be 3 or greater");if(o<3)throw new Error("verticalSubdivisions must be 3 or greater");r=r||0,c=c||Math.PI*2;let a=c-r,i=n+1,f=o+1,u=i*f,s=b(3,u),m=b(3,u),l=b(2,u),x=b(3,n*o*2,Uint16Array);for(let E=0;E<f;++E){let y=E/o,A=y*Math.PI*2,p=Math.sin(A),h=e+p*t,S=Math.cos(A),R=S*t;for(let _=0;_<i;++_){let F=_/n,C=r+F*a,I=Math.sin(C),P=Math.cos(C),N=I*h,M=P*h,z=I*p,L=P*p;s.push(N,R,M),m.push(z,S,L),l.push(F,1-y)}}for(let E=0;E<o;++E)for(let y=0;y<n;++y){let A=1+y,p=1+E;x.push(i*E+y,i*p+y,i*E+A),x.push(i*p+y,i*p+A,i*E+A)}return{position:s,normal:m,texcoord:l,indices:x}}function ft(e,t,n,o,r){if(t<3)throw new Error("divisions must be at least 3");n=n||1,r=r||1,o=o||0;let c=(t+1)*(n+1),a=b(3,c),i=b(3,c),f=b(2,c),u=b(3,n*t*2,Uint16Array),s=0,m=e-o,l=t+1;for(let x=0;x<=n;++x){let E=o+m*Math.pow(x/n,r);for(let y=0;y<=t;++y){let A=2*Math.PI*y/t,p=E*Math.cos(A),h=E*Math.sin(A);if(a.push(p,0,h),i.push(0,1,0),f.push(1-y/t,x/n),x>0&&y!==t){let S=s+(y+1),R=s+y,_=s+y-l,F=s+(y+1)-l;u.push(S,R,_),u.push(S,_,F)}}s+=t+1}return{position:a,normal:i,texcoord:f,indices:u}}function O(e){return function(t){let n=e.apply(this,Array.prototype.slice.call(arguments,1));return zn(t,n)}}function G(e){return function(t){let n=e.apply(null,Array.prototype.slice.call(arguments,1));return Re(t,n)}}var No=G(ct),Uo=O(ct),Do=G(ot),Mo=O(ot),Lo=G(nt),Oo=O(nt),Go=G(rt),zo=O(rt),Vo=G(Be),vo=O(Be),go=G(tt),ko=O(tt),$o=G(it),Ho=O(it),Xo=G(at),Wo=O(at),Yo=G(ut),jo=O(ut),Ko=G(ft),qo=O(ft);function Pe(e){return!!e.texStorage2D}var Xn=function(){let e={},t={};function n(o){let r=o.constructor.name;if(!e[r]){for(let c in o)if(typeof o[c]=="number"){let a=t[o[c]];t[o[c]]=a?`${a} | ${c}`:c}e[r]=!0}}return function(r,c){return n(r),t[c]||(typeof c=="number"?`0x${c.toString(16)}`:c)}}();var Zo={textureColor:new Uint8Array([128,192,255,255]),textureOptions:{},crossOrigin:void 0};var Qo=function(){let e;return function(){return e=e||(typeof document!="undefined"&&document.createElement?document.createElement("canvas").getContext("2d"):null),e}}(),Wn=6406,ge=6407,ke=6408,Yn=6409,jn=6410,Kn=6402,qn=34041;var Zn=33319,Qn=33320,Jn=6403,er=36244,tr=36248,nr=36249,rr={};{let e=rr;e[Wn]={numColorComponents:1},e[Yn]={numColorComponents:1},e[jn]={numColorComponents:2},e[ge]={numColorComponents:3},e[ke]={numColorComponents:4},e[Jn]={numColorComponents:1},e[er]={numColorComponents:1},e[Zn]={numColorComponents:2},e[Qn]={numColorComponents:2},e[ge]={numColorComponents:3},e[tr]={numColorComponents:3},e[ke]={numColorComponents:4},e[nr]={numColorComponents:4},e[Kn]={numColorComponents:1},e[qn]={numColorComponents:2}}var ce=Tn;function st(e){return typeof document!="undefined"&&document.getElementById?document.getElementById(e):null}var re=33984;var ie=34962,or=34963;var cr=35713,ir=35714,ar=35632,ur=35633,fr=35981,lt=35718,sr=35721,lr=35971,mr=35382,xr=35396,yr=35398,Er=35392,Tr=35395,ae=5126,mt=35664,xt=35665,yt=35666,Ce=5124,Et=35667,Tt=35668,At=35669,_t=35670,pt=35671,bt=35672,ht=35673,Ft=35674,St=35675,Rt=35676,Ar=35678,_r=35680,pr=35679,br=35682,hr=35685,Fr=35686,Sr=35687,Rr=35688,Ir=35689,Br=35690,Pr=36289,Cr=36292,wr=36293,we=5125,It=36294,Bt=36295,Pt=36296,Nr=36298,Ur=36299,Dr=36300,Mr=36303,Lr=36306,Or=36307,Gr=36308,zr=36311,ue=3553,fe=34067,Ne=32879,se=35866,T={};function Ct(e,t){return T[t].bindPoint}function Vr(e,t){return function(n){e.uniform1f(t,n)}}function vr(e,t){return function(n){e.uniform1fv(t,n)}}function gr(e,t){return function(n){e.uniform2fv(t,n)}}function kr(e,t){return function(n){e.uniform3fv(t,n)}}function $r(e,t){return function(n){e.uniform4fv(t,n)}}function wt(e,t){return function(n){e.uniform1i(t,n)}}function Nt(e,t){return function(n){e.uniform1iv(t,n)}}function Ut(e,t){return function(n){e.uniform2iv(t,n)}}function Dt(e,t){return function(n){e.uniform3iv(t,n)}}function Mt(e,t){return function(n){e.uniform4iv(t,n)}}function dr(e,t){return function(n){e.uniform1ui(t,n)}}function Hr(e,t){return function(n){e.uniform1uiv(t,n)}}function Xr(e,t){return function(n){e.uniform2uiv(t,n)}}function Wr(e,t){return function(n){e.uniform3uiv(t,n)}}function Yr(e,t){return function(n){e.uniform4uiv(t,n)}}function jr(e,t){return function(n){e.uniformMatrix2fv(t,!1,n)}}function Kr(e,t){return function(n){e.uniformMatrix3fv(t,!1,n)}}function qr(e,t){return function(n){e.uniformMatrix4fv(t,!1,n)}}function Zr(e,t){return function(n){e.uniformMatrix2x3fv(t,!1,n)}}function Qr(e,t){return function(n){e.uniformMatrix3x2fv(t,!1,n)}}function Jr(e,t){return function(n){e.uniformMatrix2x4fv(t,!1,n)}}function eo(e,t){return function(n){e.uniformMatrix4x2fv(t,!1,n)}}function to(e,t){return function(n){e.uniformMatrix3x4fv(t,!1,n)}}function no(e,t){return function(n){e.uniformMatrix4x3fv(t,!1,n)}}function U(e,t,n,o){let r=Ct(e,t);return Pe(e)?function(c){let a,i;Ye(e,c)?(a=c,i=null):(a=c.texture,i=c.sampler),e.uniform1i(o,n),e.activeTexture(re+n),e.bindTexture(r,a),e.bindSampler(n,i)}:function(c){e.uniform1i(o,n),e.activeTexture(re+n),e.bindTexture(r,c)}}function D(e,t,n,o,r){let c=Ct(e,t),a=new Int32Array(r);for(let i=0;i<r;++i)a[i]=n+i;return Pe(e)?function(i){e.uniform1iv(o,a),i.forEach(function(f,u){e.activeTexture(re+a[u]);let s,m;Ye(e,f)?(s=f,m=null):(s=f.texture,m=f.sampler),e.bindSampler(n,m),e.bindTexture(c,s)})}:function(i){e.uniform1iv(o,a),i.forEach(function(f,u){e.activeTexture(re+a[u]),e.bindTexture(c,f)})}}T[ae]={Type:Float32Array,size:4,setter:Vr,arraySetter:vr};T[mt]={Type:Float32Array,size:8,setter:gr,cols:2};T[xt]={Type:Float32Array,size:12,setter:kr,cols:3};T[yt]={Type:Float32Array,size:16,setter:$r,cols:4};T[Ce]={Type:Int32Array,size:4,setter:wt,arraySetter:Nt};T[Et]={Type:Int32Array,size:8,setter:Ut,cols:2};T[Tt]={Type:Int32Array,size:12,setter:Dt,cols:3};T[At]={Type:Int32Array,size:16,setter:Mt,cols:4};T[we]={Type:Uint32Array,size:4,setter:dr,arraySetter:Hr};T[It]={Type:Uint32Array,size:8,setter:Xr,cols:2};T[Bt]={Type:Uint32Array,size:12,setter:Wr,cols:3};T[Pt]={Type:Uint32Array,size:16,setter:Yr,cols:4};T[_t]={Type:Uint32Array,size:4,setter:wt,arraySetter:Nt};T[pt]={Type:Uint32Array,size:8,setter:Ut,cols:2};T[bt]={Type:Uint32Array,size:12,setter:Dt,cols:3};T[ht]={Type:Uint32Array,size:16,setter:Mt,cols:4};T[Ft]={Type:Float32Array,size:32,setter:jr,rows:2,cols:2};T[St]={Type:Float32Array,size:48,setter:Kr,rows:3,cols:3};T[Rt]={Type:Float32Array,size:64,setter:qr,rows:4,cols:4};T[hr]={Type:Float32Array,size:32,setter:Zr,rows:2,cols:3};T[Fr]={Type:Float32Array,size:32,setter:Jr,rows:2,cols:4};T[Sr]={Type:Float32Array,size:48,setter:Qr,rows:3,cols:2};T[Rr]={Type:Float32Array,size:48,setter:to,rows:3,cols:4};T[Ir]={Type:Float32Array,size:64,setter:eo,rows:4,cols:2};T[Br]={Type:Float32Array,size:64,setter:no,rows:4,cols:3};T[Ar]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[_r]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[pr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:Ne};T[br]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[Pr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};T[Cr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};T[wr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[Nr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[Ur]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:Ne};T[Dr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[Mr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};T[Lr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:ue};T[Or]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:Ne};T[Gr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:fe};T[zr]={Type:null,size:0,setter:U,arraySetter:D,bindPoint:se};function le(e,t){return function(n){if(n.value)switch(e.disableVertexAttribArray(t),n.value.length){case 4:e.vertexAttrib4fv(t,n.value);break;case 3:e.vertexAttrib3fv(t,n.value);break;case 2:e.vertexAttrib2fv(t,n.value);break;case 1:e.vertexAttrib1fv(t,n.value);break;default:throw new Error("the length of a float constant value must be between 1 and 4!")}else e.bindBuffer(ie,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,n.numComponents||n.size,n.type||ae,n.normalize||!1,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function g(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4iv(t,n.value);else throw new Error("The length of an integer constant value must be 4!");else e.bindBuffer(ie,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||Ce,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function me(e,t){return function(n){if(n.value)if(e.disableVertexAttribArray(t),n.value.length===4)e.vertexAttrib4uiv(t,n.value);else throw new Error("The length of an unsigned integer constant value must be 4!");else e.bindBuffer(ie,n.buffer),e.enableVertexAttribArray(t),e.vertexAttribIPointer(t,n.numComponents||n.size,n.type||we,n.stride||0,n.offset||0),e.vertexAttribDivisor&&e.vertexAttribDivisor(t,n.divisor||0)}}function Ue(e,t,n){let o=n.size,r=n.count;return function(c){e.bindBuffer(ie,c.buffer);let a=c.size||c.numComponents||o,i=a/r,f=c.type||ae,s=T[f].size*a,m=c.normalize||!1,l=c.offset||0,x=s/r;for(let E=0;E<r;++E)e.enableVertexAttribArray(t+E),e.vertexAttribPointer(t+E,i,f,m,s,l+x*E),e.vertexAttribDivisor&&e.vertexAttribDivisor(t+E,c.divisor||0)}}var B={};B[ae]={size:4,setter:le};B[mt]={size:8,setter:le};B[xt]={size:12,setter:le};B[yt]={size:16,setter:le};B[Ce]={size:4,setter:g};B[Et]={size:8,setter:g};B[Tt]={size:12,setter:g};B[At]={size:16,setter:g};B[we]={size:4,setter:me};B[It]={size:8,setter:me};B[Bt]={size:12,setter:me};B[Pt]={size:16,setter:me};B[_t]={size:4,setter:g};B[pt]={size:8,setter:g};B[bt]={size:12,setter:g};B[ht]={size:16,setter:g};B[Ft]={size:4,setter:Ue,count:2};B[St]={size:9,setter:Ue,count:3};B[Rt]={size:16,setter:Ue,count:4};var ro=/ERROR:\s*\d+:(\d+)/gi;function oo(e,t="",n=0){let o=[...t.matchAll(ro)],r=new Map(o.map((c,a)=>{let i=parseInt(c[1]),f=o[a+1],u=f?f.index:t.length,s=t.substring(c.index,u);return[i-1,s]}));return e.split(`
`).map((c,a)=>{let i=r.get(a);return`${a+1+n}: ${c}${i?`

^^^ ${i}`:""}`}).join(`
`)}var $e=/^[ \t]*\n/;function Lt(e){let t=0;return $e.test(e)&&(t=1,e=e.replace($e,"")),{lineOffset:t,shaderSource:e}}function Ot(e,t){return e.errorCallback(t),e.callback&&setTimeout(()=>{e.callback(`${t}
${e.errors.join(`
`)}`)}),null}function Gt(e,t,n,o){let r=e.createShader(n);return e.shaderSource(r,Lt(t).shaderSource),e.compileShader(r),!o.callback&&!co(e,n,r,o.errorCallback)?(e.deleteShader(r),null):r}function co(e,t,n,o){o=o||ce;let r=e.getShaderParameter(n,cr);if(!r){let c=e.getShaderInfoLog(n),{lineOffset:a,shaderSource:i}=Lt(e.getShaderSource(n));o(`${oo(i,c,a)}
Error compiling ${Xn(e,t)}: ${c}`)}return r}function De(e,t,n){let o,r,c;if(typeof t=="function"&&(n=t,t=void 0),typeof e=="function")n=e,e=void 0;else if(e&&!Array.isArray(e)){if(e.errorCallback&&e.errors)return e;let u=e;n=u.errorCallback,e=u.attribLocations,o=u.transformFeedbackVaryings,r=u.transformFeedbackMode,c=u.callback}let a=n||ce,i=[],f={errorCallback(u,...s){i.push(u),a(u,...s)},transformFeedbackVaryings:o,transformFeedbackMode:r,callback:c,errors:i};if(e){let u={};Array.isArray(e)?e.forEach(function(s,m){u[s]=t?t[m]:m}):u=e,f.attribLocations=u}return f}var zt=["VERTEX_SHADER","FRAGMENT_SHADER"];function io(e,t){if(t.indexOf("frag")>=0)return ar;if(t.indexOf("vert")>=0)return ur}function de(e,t){t.forEach(function(n){e.deleteShader(n)})}var ao=(e=0)=>new Promise(t=>setTimeout(t,e));function uo(e,t,n,o,r){let c=De(n,o,r),a=[],i=[];for(let s=0;s<t.length;++s){let m=t[s];if(typeof m=="string"){let l=st(m),x=l?l.text:m,E=e[zt[s]];l&&l.type&&(E=io(e,l.type)||E),m=Gt(e,x,E,c),i.push(m)}_n(e,m)&&a.push(m)}if(a.length!==t.length)return de(e,i),Ot(c,"not enough shaders for program");let f=e.createProgram();a.forEach(function(s){e.attachShader(f,s)}),c.attribLocations&&Object.keys(c.attribLocations).forEach(function(s){e.bindAttribLocation(f,c.attribLocations[s],s)});let u=c.transformFeedbackVaryings;return u&&(u.attribs&&(u=u.attribs),Array.isArray(u)||(u=Object.keys(u)),e.transformFeedbackVaryings(f,u,c.transformFeedbackMode||fr)),e.linkProgram(f),c.callback?(fo(e,f,c),null):Vt(e,f,c.errorCallback)?f:(e.deleteProgram(f),de(e,i),null)}async function fo(e,t,n){let o=e.getExtension("KHR_parallel_shader_compile"),r=o?(f,u)=>f.getProgramParameter(u,o.COMPLETION_STATUS_KHR):()=>!0,c=0;do await ao(c),c=1e3/60;while(!r(e,t));let a=Vt(e,t,n.errorCallback),i=a?void 0:n.errors.join(`
`);a||((n.errorCallback||ce)(i),e.deleteProgram(t),t=null),n.callback(i,t)}function Vt(e,t,n){n=n||ce;let o=e.getProgramParameter(t,ir);if(!o){let r=e.getProgramInfoLog(t);n(`Error in program linking: ${r}`)}return o}function so(e,t,n,o,r){let c=De(n,o,r),a=[];for(let i=0;i<t.length;++i){let f=Gt(e,t[i],e[zt[i]],c);if(!c.callback&&!f)return null;a.push(f)}return uo(e,a,c)}function vt(e){let t=e.name;return t.startsWith("gl_")||t.startsWith("webgl_")}var lo=/(\.|\[|]|\w+)/g,mo=e=>e>="0"&&e<="9";function xo(e,t,n,o){let r=e.split(lo).filter(i=>i!==""),c=0,a="";for(;;){let i=r[c++];a+=i;let f=mo(i[0]),u=f?parseInt(i):i;if(f&&(a+=r[c++]),c===r.length){n[u]=t;break}else{let m=r[c++],l=m==="[",x=n[u]||(l?[]:{});n[u]=x,n=x,o[a]=o[a]||function(E){return function(y){gt(E,y)}}(x),a+=m}}}function yo(e,t){let n=0;function o(i,f,u){let s=f.name.endsWith("[0]"),m=f.type,l=T[m];if(!l)throw new Error(`unknown type: 0x${m.toString(16)}`);let x;if(l.bindPoint){let E=n;n+=f.size,s?x=l.arraySetter(e,m,E,u,f.size):x=l.setter(e,m,E,u,f.size)}else l.arraySetter&&s?x=l.arraySetter(e,u):x=l.setter(e,u);return x.location=u,x}let r={},c={},a=e.getProgramParameter(t,lt);for(let i=0;i<a;++i){let f=e.getActiveUniform(t,i);if(vt(f))continue;let u=f.name;u.endsWith("[0]")&&(u=u.substr(0,u.length-3));let s=e.getUniformLocation(t,f.name);if(s){let m=o(t,f,s);r[u]=m,xo(u,m,c,r)}}return r}function Eo(e,t){let n={},o=e.getProgramParameter(t,lr);for(let r=0;r<o;++r){let c=e.getTransformFeedbackVarying(t,r);n[c.name]={index:r,type:c.type,size:c.size}}return n}function To(e,t){let n=e.getProgramParameter(t,lt),o=[],r=[];for(let i=0;i<n;++i){r.push(i),o.push({});let f=e.getActiveUniform(t,i);o[i].name=f.name}[["UNIFORM_TYPE","type"],["UNIFORM_SIZE","size"],["UNIFORM_BLOCK_INDEX","blockNdx"],["UNIFORM_OFFSET","offset"]].forEach(function(i){let f=i[0],u=i[1];e.getActiveUniforms(t,r,e[f]).forEach(function(s,m){o[m][u]=s})});let c={},a=e.getProgramParameter(t,mr);for(let i=0;i<a;++i){let f=e.getActiveUniformBlockName(t,i),u={index:e.getUniformBlockIndex(t,f),usedByVertexShader:e.getActiveUniformBlockParameter(t,i,xr),usedByFragmentShader:e.getActiveUniformBlockParameter(t,i,yr),size:e.getActiveUniformBlockParameter(t,i,Er),uniformIndices:e.getActiveUniformBlockParameter(t,i,Tr)};u.used=u.usedByVertexShader||u.usedByFragmentShader,c[f]=u}return{blockSpecs:c,uniformData:o}}function gt(e,t){for(let n in t){let o=e[n];typeof o=="function"?o(t[n]):gt(e[n],t[n])}}function Me(e,...t){let n=e.uniformSetters||e,o=t.length;for(let r=0;r<o;++r){let c=t[r];if(Array.isArray(c)){let a=c.length;for(let i=0;i<a;++i)Me(n,c[i])}else for(let a in c){let i=n[a];i&&i(c[a])}}}function Ao(e,t){let n={},o=e.getProgramParameter(t,sr);for(let r=0;r<o;++r){let c=e.getActiveAttrib(t,r);if(vt(c))continue;let a=e.getAttribLocation(t,c.name),i=B[c.type],f=i.setter(e,a,i);f.location=a,n[c.name]=f}return n}function _o(e,t){for(let n in t){let o=e[n];o&&o(t[n])}}function kt(e,t,n){n.vertexArrayObject?e.bindVertexArray(n.vertexArrayObject):(_o(t.attribSetters||t,n.attribs),n.indices&&e.bindBuffer(or,n.indices))}function He(e,t){let n=yo(e,t),o=Ao(e,t),r={program:t,uniformSetters:n,attribSetters:o};return Pe(e)&&(r.uniformBlockSpec=To(e,t),r.transformFeedbackInfo=Eo(e,t)),r}var po=/\s|{|}|;/;function $t(e,t,n,o,r){let c=De(n,o,r),a=[];if(t=t.map(function(u){if(!po.test(u)){let s=st(u);if(s)u=s.text;else{let m=`no element with id: ${u}`;c.errorCallback(m),a.push(m)}}return u}),a.length)return Ot(c,"");let i=c.callback;i&&(c.callback=(u,s)=>{let m;u||(m=He(e,s)),i(u,m)});let f=so(e,t,c);return f?He(e,f):null}var bo=4,Xe=5123;function dt(e,t,n,o,r,c){n=n===void 0?bo:n;let a=t.indices,i=t.elementType,f=o===void 0?t.numElements:o;r=r===void 0?0:r,i||a?c!==void 0?e.drawElementsInstanced(n,f,i===void 0?Xe:t.elementType,r,c):e.drawElements(n,f,i===void 0?Xe:t.elementType,r):c!==void 0?e.drawArraysInstanced(n,r,f,c):e.drawArrays(n,r,f)}var ho=6402;var Fo=33190,So=36012,Ro=35056,Io=36013,Bo=32854,Po=32855,Co=36194,Ht=33189,Xt=6401,Wt=36168,Yt=34041;var xe=36096,jt=36128,Le=33306;var V={};V[Yt]=Le;V[Xt]=jt;V[Wt]=jt;V[ho]=xe;V[Ht]=xe;V[Fo]=xe;V[So]=xe;V[Ro]=Le;V[Io]=Le;var $={};$[Bo]=!0;$[Po]=!0;$[Co]=!0;$[Yt]=!0;$[Ht]=!0;$[Xt]=!0;$[Wt]=!0;function Kt(e,t){t=t||1,t=Math.max(0,t);let n=e.clientWidth*t|0,o=e.clientHeight*t|0;return e.width!==n||e.height!==o?(e.width=n,e.height=o,!0):!1}var qt=`#version 300 es
precision highp float;uniform float u_time;uniform vec2 u_resolution;out vec4 outColor;
#define hue(h) clamp(abs(fract(h + vec4(3, 2, 1, 0) / 3.) * 6. - 3.) - 1., 0., 1.)
float hash12(vec2 p){vec3 p3=fract(vec3(p.xyx)*.1031);p3+=dot(p3,p3.yzx+33.33);return fract((p3.x+p3.y)*p3.z);}void main(){vec2 cc=floor(gl_FragCoord.xy*(.075+sin(u_time)*.01)+vec2(u_time*10.))*1.1;float idx=hash12(cc);float idx2=hash12(cc+998.551);vec3 col=hue(idx+u_time*idx2*2.).rgb;outColor=vec4(col,1.);}`;var Zt=`#version 300 es
in vec4 a_position;void main(){gl_Position=a_position;}`;(()=>{let e=document.querySelector("#canvas");if(!e)throw new Error("no canvas");let t=e.getContext("webgl2");if(!t)throw new Error("no gl context");let n=$t(t,[Zt,qt]),r=Re(t,{a_position:{numComponents:2,data:[-1,-1,1,-1,1,1,-1,1]},indices:{numComponents:3,data:[0,1,3,3,1,2]}});kt(t,n,r);function c(a){Kt(t.canvas),t.viewport(0,0,t.canvas.width,t.canvas.height);let i={u_time:a*.001,u_resolution:[t.canvas.width,t.canvas.height]};t.useProgram(n.program),Me(n,i),dt(t,r),requestAnimationFrame(c)}requestAnimationFrame(c)})();
/* @license twgl.js 5.0.1 Copyright (c) 2015, Gregg Tavares All Rights Reserved.
Available via the MIT license.
see: http://github.com/greggman/twgl.js for details */
//# sourceMappingURL=main.js.map
