"use strict";(()=>{var c=`#version 300 es
precision highp float;uniform vec3 triColor;uniform float time;uniform float speed;uniform float useVColor;in vec4 v_color;out vec4 outColor;void main(){vec3 col=triColor;col.g=(sin(time*10.*speed)*.5+.5);if(useVColor==1.){outColor=v_color;}else{outColor=vec4(col,1);}}`;var f=`#version 300 es
in vec4 a_position;uniform float time;uniform float speed;out vec4 v_color;void rotate(in float angle,inout vec2 uv){float ca=cos(angle);float sa=sin(angle);uv*=mat2(ca,-sa,sa,ca);}void main(){vec2 pos=a_position.xy;rotate(time*speed,pos);gl_Position=vec4(pos,0.,1.);v_color=gl_Position*.5+.5;}`;var s=(r,a,o)=>{let t=r.createShader(a);if(!t)throw new Error("createShader failed");if(r.shaderSource(t,o),r.compileShader(t),!r.getShaderParameter(t,r.COMPILE_STATUS))throw new Error(`could not compile shader: ${r.getShaderInfoLog(t)||""}`);return t},m=(r,a,o)=>{let t=r.createProgram();if(!t)throw new Error("createProgram failed");if(r.attachShader(t,a),r.attachShader(t,o),r.linkProgram(t),!r.getProgramParameter(t,r.LINK_STATUS))throw new Error(`program failed to link:${r.getProgramInfoLog(t)||""}`);return t};var d=r=>{let a=r.clientWidth,o=r.clientHeight,t=r.width!==a||r.height!==o;return t&&(r.width=a,r.height=o),t};var A=document.querySelector("#canvas");if(!A)throw new Error("no canvas");var e=A.getContext("webgl2");if(!e)throw new Error("no gl context");var p=s(e,e.VERTEX_SHADER,f),x=s(e,e.FRAGMENT_SHADER,c),n=m(e,p,x),i=e.getAttribLocation(n,"a_position"),u=e.getUniformLocation(n,"triColor"),L=e.getUniformLocation(n,"time"),T=e.getUniformLocation(n,"speed"),E=e.getUniformLocation(n,"useVColor"),R=e.createVertexArray();e.bindVertexArray(R);{let r=new Float32Array([0,0,0,.5,.7,0]);e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0)}var h=e.createVertexArray();e.bindVertexArray(h);{let r=new Float32Array([.5,.5,1,.5,.25,0]);e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0)}var S=+new Date;(function r(){d(e.canvas)&&e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(n);let o=(+new Date-S)/1e3;e.uniform1f(L,o),e.bindVertexArray(R),e.uniform1f(T,1),e.uniform1f(E,0),e.uniform3fv(u,[1,.7,.7]),e.drawArrays(e.TRIANGLES,0,3),e.bindVertexArray(h),e.uniform1f(T,2),e.uniform1f(E,1),e.uniform3fv(u,[.5,1,.7]),e.drawArrays(e.TRIANGLES,0,3),requestAnimationFrame(r)})();})();
