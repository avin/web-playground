var n=(r,o,a)=>{let t=r.createShader(o);if(!t)throw new Error("createShader failed");if(r.shaderSource(t,a),r.compileShader(t),!r.getShaderParameter(t,r.COMPILE_STATUS))throw new Error(`could not compile shader: ${r.getShaderInfoLog(t)||""}`);return t},c=(r,o,a)=>{let t=r.createProgram();if(!t)throw new Error("createProgram failed");if(r.attachShader(t,o),r.attachShader(t,a),r.linkProgram(t),!r.getProgramParameter(t,r.LINK_STATUS))throw new Error(`program failed to link:${r.getProgramInfoLog(t)||""}`);return t};var s=r=>{let o=r.clientWidth,a=r.clientHeight,t=r.width!==o||r.height!==a;return t&&(r.width=o,r.height=a),t};var d=`#version 300 es
precision highp float;in vec4 v_color;out vec4 outColor;void main(){outColor=v_color;}`;var T=`#version 300 es
in vec4 a_position;in vec4 a_color;out vec4 v_color;void main(){gl_Position=a_position;v_color=a_color;}`;var A=()=>new Uint8Array([Math.random()*256,Math.random()*256,Math.random()*256,255,Math.random()*256,Math.random()*256,Math.random()*256,255,Math.random()*256,Math.random()*256,Math.random()*256,255]),R=document.querySelector("#canvas");if(!R)throw new Error("no canvas");var e=R.getContext("webgl2");if(!e)throw new Error("no gl context");var u=n(e,e.VERTEX_SHADER,T),S=n(e,e.FRAGMENT_SHADER,d),i=c(e,u,S),E=e.getAttribLocation(i,"a_position"),h=e.getAttribLocation(i,"a_color"),f=e.createVertexArray();e.bindVertexArray(f);var _=e.createBuffer();{let r=new Float32Array([-.8,-.8,-.8,.8,.9,.25]);e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.enableVertexAttribArray(E),e.vertexAttribPointer(E,2,e.FLOAT,!1,0,0);let o=A();e.bindBuffer(e.ARRAY_BUFFER,_),e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),e.enableVertexAttribArray(h),e.vertexAttribPointer(h,4,e.UNSIGNED_BYTE,!0,0,0)}var x=+new Date,m;(function r(){let o=(+new Date-x)/1e3;if(Math.floor(o*4)!==Math.floor(m*4)){m=o;let t=A();e.bindBuffer(e.ARRAY_BUFFER,_),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)}s(e.canvas)&&e.viewport(0,0,e.canvas.width,e.canvas.height),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.useProgram(i),e.bindVertexArray(f),e.drawArrays(e.TRIANGLES,0,3),requestAnimationFrame(r)})();
//# sourceMappingURL=main.js.map
